<!-- Página del Buscador de Videos -->
{% extends "base.html" %}
{% block title %}Sistema de Vigilancia || Buscador de Videos{% endblock %}
{% block nav %}
<nav class="navbar-sidebar">
  <ul class="list-unstyled navbar__list">
      <li class="has-sub">
          <a class="js-arrow" href="{{url_for('camaras')}}">
              <i class="fas fa-home"></i>Inicio</a>
      </li>
      <li class="active has-sub">
          <a class="js-arrow" href="{{url_for('ondemand')}}">
              <img src="{{url_for('static', path='/img/searchv.png')}}" class="imgV">Buscador de Videos</a>
      </li>
      {% if tipo == "Administrador" %}
      <li class="has-sub">
          <a class="js-arrow" href="{{url_for('dashboard')}}">
              <i class="fas fa-users"></i>Usuarios</a>
      </li>
      <li class="has-sub">
        <a class="js-arrow" href="{{url_for('papelera')}}">
            <i class="fas fa-trash"></i>Papelera de Videos</a>
    </li>
      {% endif %}
  </ul>
</nav>
{% endblock %}
{% block user %}
    {{name}}
{% endblock %}
{% block body %}
<div class="py-5 px-5" id="container">

  <!-- FORMULARIOS DE FECHAS PARA BUSCAR VIDEOS -->

  <div class="row my-5 mb-5">
      <div class="col-sm-8 col-md-6 col-lg-6 col-xl-8 ms-auto me-auto">
        <form action="{{ url_for('busqueda') }}" method="post">
            <div class="row position-relative">
                <!-- FORMULARIO DE RANGO DE FECHAS -->
                <div id="rangeContainer" class="col-sm-12 col-md-12 col-lg-12 col-xl-12 form-group">
                  <label for="reportrange" class="ms-5"><h5>Buscar por Rango de Fecha</h5></label>
                  <div id="reportrange" class="form-control border-3 border-top-0 border-start-0 border-end-0 border-primary rounded-0">
                      <i class="fa fa-calendar"></i>&nbsp;
                      <span></span> <i class="fa fa-caret-down"></i>
                    <input id="rangoDateStart" name="rangoDateStart" type="date" hidden>
                    <input id="rangoDateEnd" name="rangoDateEnd" type="date" hidden>
                  </div>
                </div>
                <!-- FORMULARIO DE AÑO-MES -->
                <div id="mesContainer" class="col-sm-12 col-md-12 col-lg-12 col-xl-12 form-group">
                  <label for="mes" class="ms-5"><h5>Buscar por Año y Mes</h5></label>
                  <input id="mes" type="month" class="form-control border-3 border-top-0 border-start-0 border-end-0 border-primary rounded-0" aria-label="Default select example" name="mes">
                  <input id="mesDateStart" name="mesDateStart" type="date" hidden>
                  <input id="mesDateEnd" name="mesDateEnd" type="date" hidden>
                </div>
                <!-- CHECKBOX PARA LA SELECCION DE FORMULARIOS -->
                <div class="form-check form-switch form-group position-absolute top-0 ms-3">
                  <input class="form-check-input" type="checkbox" role="switch" id="inputSwitch" name="inputSwitch" checked data-bs-toggle="tooltip" data-bs-html="true" title="" checked>
                </div>
                <!-- BOTON PARA REALIZAR BUSQUEDA -->
                <div class="form-group mt-3 text-center col-sm-12 col-md-12 col-lg-12 col-xl-12">
                  <button class="btn btn-primary" type="submit">Buscar grabaciones</button>
                </div>
          </div>
        </form>
      </div>
  </div>

  <!-- BLOQUE DE CONTENIDO CON LOS RESULTADOS DE BUSQUEDA -->

  {% block container %}
  {% endblock %}

    <!-- MODAL PARA VER VIDEO -->
<div class="modal fade" id="videoModal" tabindex="-1" aria-labelledby="ModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-md modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="ModalLabel"></h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
      <video id="video-modal" class="video-js video-modal vjs-16-9 vjs-big-play-centered" controlsList="nodownload">
        <source src="#" type='video/mp4'>
      </video>
      </div>
      <div class="modal-footer w-100">
        {% block modal_controls %}
        {% endblock %}
      </div>
    </div>
  </div>
</div>

</div>

{% endblock %}